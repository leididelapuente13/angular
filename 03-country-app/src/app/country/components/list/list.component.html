<section class="mt-7">
    <div class="overflow-x-auto">
        <table class="table table-zebra">
            <thead>
                <tr>
                    <th>#</th>
                    <th>Icono</th>
                    <th>Bandera</th>
                    <th>Nombre</th>
                    <th>Capital</th>
                    <th>Población</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                @for (country of countries(); track country.cca2; let index =
                $index) {
                <tr>
                    <td>{{ index + 1 }}</td>
                    <td>{{ country.flag }}</td>
                    <td>
                        <img
                            [src]="country.flagSvg"
                            [alt]="country.name"
                            class="w-10"
                        />
                    </td>
                    <td>{{ country.name }}</td>
                    <td>{{ country.capital }}</td>
                    <td>
                        <span class="badge badge-secondary">{{
                            country.population | number
                        }}</span>
                    </td>
                    <td>
                        <a
                            class="link-primary"
                            [routerLink]="['/country/by', country.cca2]"
                            >Mas información</a
                        >
                    </td>
                </tr>
                }

                <!--  -->
                @if(errorMessage()){
                <tr>
                    <td colspan="8" class="text-center">
                        {{ errorMessage() }}
                    </td>
                </tr>
                }

                <!--  -->
                @if(isLoading()){
                <tr>
                    <td colspan="8" class="text-center">Cargando</td>
                </tr>
                }

                <!--  -->
                @if(countries().length === 0 && !isLoading()){
                <tr>
                    <td colspan="8" class="text-center">
                        No se encontro información
                    </td>
                </tr>
                }
            </tbody>
        </table>
    </div>
</section>
